# 株管理アプリ仕様書

## 1. 目的

本アプリケーションは、リスク分散を意識した株式投資を行うユーザーが、複数銘柄の管理を効率的に行い、投資戦略をサポートすることを目的とします。リスク分散のために注目し、及び保有する（以下「管理する」という。）銘柄が増えると、管理が煩雑になるため、システムを用いて簡素化します。ユーザーがデイトレードを行うことが難しく、また長期保有は NISA でのインデックス投資を行っていることを想定し、１週間単位での売買を目安とし、目標設定と計画の見える化により着実な資産増加を目指します。

アプリケーションは、シンプルで効率的に株を管理できることを最優先し、ユーザーが直感的に操作できるインターフェースを提供します。特に、目標額の設定や達成状況の可視化が可能で、ユーザーが計画的に投資を行い、目標に向けて着実に資産を増やせるように支援します。

## 2. 背景

株式投資において、リスク分散は非常に重要な戦略です。リスクを低減するためには、一つの銘柄に過度な投資をすることなく、複数の銘柄に分散する必要があります。しかし、この方法では管理する銘柄数が増加し、管理が煩雑になりがちです。このアプリケーションは、銘柄数が多くても効率的に管理できるよう、ユーザーにとってシンプルで分かりやすい管理ツールを提供します。

さらに、デイトレードは日々の仕事に追われる中で難しく、長期保有は NISA を通じてインデックス投資に委ねているユーザーにとっては、短期的な売買の目安が重要です。このため、アプリケーションは１週間単位の売買を目安として、ユーザーが短期間で目標達成を目指せるように設計されます。短期的な売買においては、テクニカル指標（例えば、MACD や RSI など）の活用が重要であり、これらの指標を元に適切なタイミングで株を売買することが、より効果的な投資戦略を形成します。

目標設定と計画は、株式投資の成功において非常に重要です。ユーザーは、感情に流されず計画的に売買を行うことが求められます。そこで、アプリケーションは目標達成度の見える化を重視し、ユーザーが設定した目標に対する進捗を一目で確認できるようにします。また、適切な指標を用いた売買の戦略を提案する機能を提供します。これにより、投資家は感情を排除した合理的な投資判断を行うことができます。目標値の意味は欲を制御することであり、目標を設定することで「これからまだ上昇するかもしれない」や、「これ以上は下げ止まらないだろう」といった希望的観測を排除することを目的としています。

## 3. 主要機能

- **株情報の登録・編集・削除**  
  ユーザーが管理する株の情報を簡単に登録、編集、削除できる機能。銘柄名、購入価格、株数、目標価格、損切り価格などの情報を管理し、ユーザーが効率的に株を運用できるようにサポートします。

- **データの閲覧**  
  登録した株情報や売買履歴、目標達成状況を直感的に閲覧できるインターフェースを提供します。投資計画を確実に遂行できるよう、必要な情報をタイムリーに表示します。

- **アラート通知**  
  株価が設定した目標価格や損切り価格に近づいた際にリアルタイムでアラートを通知します。これにより、ユーザーが素早く対応できるようにします。

- **目標達成度の管理**  
  個別銘柄ごと、及び保有株全体に対して、週単位の目標額に対する達成状況をリアルタイムで管理します。最終的な目標を年単位で設定し、そこから逆算した 1 週間単位の目標額を管理することで、ユーザーが計画的に資産を増やせるようにします。

- **発注管理**  
  必要な発注を行ったかどうかを確認できる機能。計画に基づいて売買を実行することで、ユーザーが感情的な判断に流されないようにします。

- **株情報の自動取得**  
  株価や配当情報を外部 API から自動的に取得し、最新の株価情報を保持します。これにより、ユーザーは常にリアルタイムのデータをもとに売買判断を行えます。

- **配当の管理**  
  配当金額や支払日など、配当情報を自動的に取得し、損益管理に反映させます。配当も含めたトータルの利益を把握できるようにします。

- **テクニカル分析のサポート**  
  株価のテクニカル指標（MACD、RSI、移動平均線など）を表示し、売買タイミングを分析します。例えば、MACD がシグナルを上に突き抜けそうか、直近の株価が上昇傾向か下降傾向のどちらかなど。これにより、データに基づいた合理的な意思決定の一部のサポートをし、感情的な判断を避けることができます。また、ボリンジャーバンド、株価関連ニュース、決算日等の情報については、必要に応じて今後サポートしてきます。

- **保有株の状態管理**
  登録している株が保有中か、様子見のために注目しているだけか、という状態や、株が下落傾向から上昇傾向に変わる買い時を待つ状態、株が上昇傾向から下落傾向に変わる売り時を待つ状態、まさに買い時かどうかを見定めている状態を株ごとに分類し、さらにそれぞれの株を保有しているかどうかという状態を合わせて管理することができるようにします。

## 4. データの管理方法

データはローカルストレージのデータベースで管理され、システムが停止してもデータが保持されます。各ユーザーの株情報や売買履歴、目標達成状況は安全に管理され、バックアップ機能も提供される予定です。

これにより、ユーザーは自身のデータを確実に保持し、アプリケーションを停止しても安心して利用できます。

## 5. 使用予定の技術

- **React**  
  フロントエンドには、コンポーネントベースで効率的に UI を構築できる**React**を使用します。状態管理には、**React Context API**や**Redux**を活用し、アプリケーション全体のデータフローを管理します。

- **Python + Flask**  
  バックエンドには、株式に関するAPIを用いるため、Pythonを選定します。株価取得や目標管理、指値額算出などを担います。

- **MySQL**  
  データベースとして、**MySQL**を使用します。株情報、売買履歴、目標設定などのデータを管理し、データの整合性を保ちます。

- **Bootstrap**  
  フロントエンドのデザインには、**Bootstrap**を使用します。これにより、シンプルでレスポンシブな UI を効率的に構築できます。

- **Chart.js**  
  株のパフォーマンスや目標達成度を視覚的に表示するために、**Chart.js**を使用します。グラフやチャートを使ってデータを直感的に表現します。

- **GitHub Actions**  
  継続的インテグレーション（CI）を実現するために、**GitHub Actions**を使用し、ビルド・テスト・デプロイを自動化します。

- **JWT (JSON Web Token)**  
  ユーザー認証には**JWT**を利用し、セキュアな認証機能を実現します。

## 6. 利用する API

- **Yahoo Finance API**  
  株価や過去の株価データを取得するために、**Yahoo Finance API**を利用します。無料で利用でき、リアルタイムの株価情報や履歴データを取得できます。

- **Alpha Vantage API**  
  テクニカル指標（MACD、RSI など）を計算するために、**Alpha Vantage API**を使用します。無料プランで、主要なテクニカル指標を提供しています。

- **Quandl API**  
  株価データや経済指標のデータを取得するために、**Quandl API**を利用します。無料で株価や財務データ、マクロ経済データを取得できます。

## 7. 画面設計

画面設計は、シンプルで視覚的に直感的に理解できるように設計されます。各画面では、必要な情報が一目で把握できるように配慮し、操作の簡便さを重視します。
