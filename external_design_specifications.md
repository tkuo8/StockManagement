## **株管理アプリ 外部設計書**

### **1. システム概要**

本システムは、株式投資を行うユーザーが複数の銘柄を効率的に管理し、計画的な投資を支援することを目的としています。以下の主要機能を提供します：

- 株情報の登録・編集・削除
- 目標達成度の可視化と進捗管理
- テクニカル指標を活用した売買タイミングの分析
- 外部 API を使用したリアルタイム株価更新
- アラート通知による迅速な対応支援
- 保有株の状態管理（保有中・買い時・売り時等）

---

### **2. インターフェース設計**

#### **2.1 ユーザーインターフェース（UI）**

主な画面構成は以下の通りです：

- **株情報管理画面**  
  株式の登録・編集・削除を行う画面。銘柄シンボル、購入価格、株数、目標価格、損切り価格、保有状態（保有中、注目中、買い時、売り時など）を入力・管理します。

- **株価閲覧画面**  
  株価やテクニカル指標をリアルタイムで表示。MACD、RSI、移動平均線などをチャートで確認可能。

- **目標達成状況画面**  
  設定した目標に対する進捗状況をグラフや一覧で表示。週単位・年単位の目標達成度を確認。

- **取引履歴画面**  
  株式の売買履歴を時系列で表示。売買価格、株数、日時を記録。

- **アラート通知画面**  
  設定した目標価格や損切り価格に近づいた場合の通知を一覧で表示。

---

#### **2.2 API インターフェース**

外部 API を活用して株価情報やテクニカル指標を取得します。主要な API と使用例：

- **Yahoo Finance API**: 株価および履歴データの取得。
- **Alpha Vantage API**: テクニカル指標（MACD、RSI）の取得。

---

#### **2.3 データベース設計**

1. **ユーザー情報エンティティ**  
   アプリケーション利用者の基本情報を管理。

   - **主なデータ**: ユーザー ID、メールアドレス、パスワード、登録日。

2. **保有株情報エンティティ**  
   保有銘柄や状態情報を管理。

   - **主なデータ**: 銘柄 ID、シンボル、購入価格、購入日、保有数量、目標価格、損切り価格、状態（保有中、注目中など）。

3. **取引履歴エンティティ**  
   株式の売買履歴を記録。

   - **主なデータ**: 取引 ID、銘柄 ID、取引タイプ、価格、数量、日時。

4. **目標管理エンティティ**  
   ユーザーが設定した目標を管理。

   - **主なデータ**: 目標 ID、期間（週・年）、目標額、進捗率。

5. **テクニカル指標エンティティ**  
   各銘柄のテクニカル指標を記録。

   - **主なデータ**: 指標 ID、銘柄 ID、指標名、計算結果、算出日時。

---

#### **2.4 バックエンド API 設計**

主なバックエンド API の例：

- **株情報登録 API**

  - **エンドポイント**: `POST /api/stocks`
  - **リクエスト例**:
    ```json
    {
      "symbol": "AAPL",
      "purchase_price": 145.5,
      "quantity": 100,
      "target_price": 150.0,
      "stop_loss_price": 140.0,
      "status": "holding"
    }
    ```
  - **レスポンス例**:
    ```json
    {
      "stock_id": 1,
      "symbol": "AAPL",
      "purchase_price": 145.5,
      "quantity": 100,
      "target_price": 150.0,
      "stop_loss_price": 140.0,
      "status": "holding"
    }
    ```

---

### **3. 技術スタック**

以下の技術を採用します：

- **React**: フロントエンド開発。
- **Java + Spring Boot**: バックエンド API 開発。
- **MySQL**: データベース。
- **Bootstrap**: フロントエンドデザイン。
- **Chart.js**: グラフ表示。
- **GitHub Actions**: CI/CD。
